# Приложение для ротации дежурных

Простое веб-приложение для автоматической ротации дежурных между двумя сотрудниками.

## Сотрудники

> ⚠️ **Важно**: Замените номера телефонов на реальные в файле `app.py`

## Как работает

- Дежурные меняются каждую неделю
- Дневное дежурство: с 8:00 до 20:00
- Ночное дежурство: с 20:00 до 8:00
- На четных неделях: Павел днем, Сергей ночью
- На нечетных неделях: Сергей днем, Павел ночью

## Запуск

### С Docker Compose и Traefik

1. Создайте файл `.env` в корне проекта со следующими переменными:
```env
DOMAIN_NAME=sresh.ru
SUBDOMAIN=n8n
SSL_EMAIL=your-email@example.com
```

2. Запустите все сервисы:
```bash
docker-compose up -d --build
```

Приложение будет доступно по адресу: `https://duty.${DOMAIN_NAME}` (например, `https://duty.sresh.ru`)

n8n будет доступен по адресу: `https://${SUBDOMAIN}.${DOMAIN_NAME}` (например, `https://n8n.sresh.ru`)

### Локальный запуск (без Traefik)

Если нужно запустить только приложение локально:
```bash
docker-compose up duty-app
```

Приложение будет доступно по адресу: http://localhost:5000

### Без Docker

```bash
pip install -r requirements.txt
python app.py
```

## API

- `GET /` - главная страница с информацией о текущем дежурном
- `GET /api/current` - JSON API для получения текущего дежурного

## Настройка

Вы можете изменить:
- Дату начала ротации в `app.py` (переменная `START_DATE`)
- Время начала/окончания дня в `app.py` (переменные `DAY_START` и `DAY_END`)
- Номера телефонов в `app.py` (словарь `EMPLOYEES`)
